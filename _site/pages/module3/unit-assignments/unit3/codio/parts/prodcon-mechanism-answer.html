<!DOCTYPE html>
<html lang="en"><head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Trevor‚Äôs University of Essex ePortfolio</title>
<meta name="generator" content="Jekyll v4.3.2" />
<meta property="og:title" content="Trevor‚Äôs University of Essex ePortfolio" />
<meta property="og:locale" content="en_US" />
<link rel="canonical" href="http://localhost:4000/pages/module3/unit-assignments/unit3/codio/parts/prodcon-mechanism-answer.html" />
<meta property="og:url" content="http://localhost:4000/pages/module3/unit-assignments/unit3/codio/parts/prodcon-mechanism-answer.html" />
<meta property="og:site_name" content="Trevor‚Äôs University of Essex ePortfolio" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Trevor‚Äôs University of Essex ePortfolio" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","headline":"Trevor‚Äôs University of Essex ePortfolio","url":"http://localhost:4000/pages/module3/unit-assignments/unit3/codio/parts/prodcon-mechanism-answer.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/css/style.css"/>

    <link rel="shortcut icon" type="image/png" href="http://localhost:4000//favicon.png" />
  </head>
<body><header class="site-header">

    <div class="wrapper"><!-- <a class="site-title" rel="author" href="/">Trevor&#39;s University of Essex ePortfolio</a> -->
      <a class="site-title" rel="author" href="/">
        <!-- <img height="80px" width="auto" src="/assets/wsg_logo.png" alt="Trevor&#39;s University of Essex ePortfolio" /> -->
        <p class="site-title-icon">üëΩ</p>
        <div class="site-title-text">
          <p class="title-text">TREVOR WOODMAN</p>
          <p class="subtitle-text">UoEO ePortfolio</p>
        </div>
      </a></div>

    <nav>
      <ul>
        <li><a href="/">Home</a></li>
        <li><a href="/pages/module0.html">M0:Induction</a></li>
        <li><a href="/pages/module1.html">M1:LCS</a></li>
        <li><a href="/pages/module2.html">M2:OOP</a></li>
        <li><a href="/pages/module3.html">M3:SSD</a></li>
        <li><a href="/pages/module4.html">M4:NS</a></li>
        <li><a href="/pages/module5.html">M5:RMPP</a></li>
      </ul>
    </nav>
  </header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

  

  <header class="post-header">
    <h1 class="post-title"></h1>
  </header>

  <div class="post-content">
    <p>‚¨ÖÔ∏è<a href="/pages/module3/unit-assignments/unit3/codio/the-producer-consumer-mechanism.html">Back</a></p>

<h1 id="module-3-unit-3-codio-acitivty-3-producer-consumer-mechanism">Module 3: Unit 3: Codio Acitivty 3: Producer Consumer Mechanism</h1>

<h2 id="the-code">The Code</h2>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">threading</span> <span class="kn">import</span> <span class="n">Thread</span>
<span class="kn">from</span> <span class="n">queue</span> <span class="kn">import</span> <span class="n">Queue</span>
 
<span class="n">q</span> <span class="o">=</span> <span class="nc">Queue</span><span class="p">()</span>
<span class="n">final_results</span> <span class="o">=</span> <span class="p">[]</span>
 
<span class="k">def</span> <span class="nf">producer</span><span class="p">():</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">100</span><span class="p">):</span>
        <span class="n">q</span><span class="p">.</span><span class="nf">put</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
        
 
<span class="k">def</span> <span class="nf">consumer</span><span class="p">():</span>
    <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
        <span class="n">number</span> <span class="o">=</span> <span class="n">q</span><span class="p">.</span><span class="nf">get</span><span class="p">()</span>
        <span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="n">number</span><span class="p">,</span> <span class="n">number</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
        <span class="n">final_results</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
        <span class="n">q</span><span class="p">.</span><span class="nf">task_done</span><span class="p">()</span>
   
   
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
    <span class="n">t</span> <span class="o">=</span> <span class="nc">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">consumer</span><span class="p">)</span>
    <span class="n">t</span><span class="p">.</span><span class="n">daemon</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="n">t</span><span class="p">.</span><span class="nf">start</span><span class="p">()</span>
    
<span class="nf">producer</span><span class="p">()</span>
 
<span class="n">q</span><span class="p">.</span><span class="nf">join</span><span class="p">()</span>
 
<span class="nf">print </span><span class="p">(</span><span class="n">final_results</span><span class="p">)</span>
</code></pre></div></div>

<h2 id="the-questions-and-answers">The Questions and Answers</h2>

<ol>
  <li>How is the queue data structure used to achieve the purpose of the code?
    <ul>
      <li>A: The queue data structure is used to store the numbers that are produced. The consumer thread consumes the numbers from the queue. The queue is used to synchronise the producer and consumer threads.</li>
    </ul>
  </li>
  <li>What is the purpose of <code class="language-plaintext highlighter-rouge">q.put(i)</code>?
    <ul>
      <li>A: The purpose of <code class="language-plaintext highlighter-rouge">q.put(i)</code> is to put the current number, <code class="language-plaintext highlighter-rouge">i</code>, into the queue. In this code, the <code class="language-plaintext highlighter-rouge">producer()</code> function is used to put numbers into the queue, 0 through 99, inclusive.</li>
    </ul>
  </li>
  <li>What is achieved by <code class="language-plaintext highlighter-rouge">q.get()</code>?
    <ul>
      <li>A: <code class="language-plaintext highlighter-rouge">q.get()</code> is used to get the current number in the queue. In this code, it is stored in the local variable <code class="language-plaintext highlighter-rouge">number</code> in the <code class="language-plaintext highlighter-rouge">consumer()</code> function.</li>
    </ul>
  </li>
  <li>What functionality is provided by <code class="language-plaintext highlighter-rouge">q.join()</code>?
    <ul>
      <li>A: The functionality provided by <code class="language-plaintext highlighter-rouge">q.join()</code> is to block the main thread (the main program, in this case) until the queue is empty, at which point the program will continue. In this program‚Äôs case, the main thread will be blocked until the queue fully processes, at which point it will print the final results.</li>
    </ul>
  </li>
  <li>Extend this producer-consumer code to make the producer-consumer scenario available in a secure way. What technique(s) would be appropriate to apply?
    <ul>
      <li>A: From a thread safety perspective and with Python specifically, queue.Queue is thread-safe and does not require any lock management. In other programming languages, this may or may not be true and could require extensive thread management. If this producer-consumer mechanism was to be used with sensitive data, it would be appropriate to properly control access and perhaps encrypt the data passing through it.</li>
    </ul>
  </li>
</ol>

  </div>

  

</article>

      </div>
    </main>

  </body>

</html>
